<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="data.sqlite3" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="1"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="4670"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="item_skill_tokusyukouka" custom_title="0" dock_id="5" table="4,23:mainitem_skill_tokusyukouka"/><table title="zokusei" custom_title="0" dock_id="6" table="4,7:mainzokusei"/><dock_state state="000000ff00000000fd0000000100000002000003560000021dfc0100000001fc00000000000003560000012600fffffffa000000010100000008fb000000160064006f0063006b00420072006f00770073006500310000000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500350100000000ffffffff0000012600fffffffb000000160064006f0063006b00420072006f00770073006500360000000000ffffffff0000012600fffffffb000000160064006f0063006b00420072006f00770073006500350000000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500360100000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500370000000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500380000000000ffffffff0000000000000000fb000000160064006f0063006b00420072006f00770073006500370000000000ffffffff0000000000000000000003560000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="bougu" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="32"/><column index="2" value="33"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="item" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="139"/><column index="2" value="36"/><column index="3" value="55"/><column index="4" value="38"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="item_skill_tokusyukouka" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="121"/><column index="2" value="248"/><column index="3" value="57"/><column index="4" value="67"/><column index="5" value="149"/><column index="6" value="140"/><column index="7" value="164"/><column index="8" value="72"/><column index="9" value="72"/><column index="10" value="42"/></column_widths><filter_values><column index="0" value="じごく"/></filter_values><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="skill_type" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="66"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="tokusyukouka_target_skill_type" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="193"/><column index="2" value="66"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="tokusyukouka_target_zokusei_type" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="181"/><column index="2" value="84"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="v_item_skill_tokusyukouka" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="121"/><column index="2" value="36"/><column index="3" value="31"/><column index="4" value="36"/><column index="5" value="121"/><column index="6" value="248"/><column index="7" value="57"/><column index="8" value="67"/><column index="9" value="149"/><column index="10" value="140"/><column index="11" value="164"/><column index="12" value="72"/><column index="13" value="70"/><column index="14" value="40"/></column_widths><filter_values><column index="5" value="属性スキルダメージ"/></filter_values><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="zokusei" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="47"/><column index="2" value="36"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="zokusei_type" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="84"/><column index="2" value="54"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="zokusei_type_zokusei" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="75"/><column index="2" value="49"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1">DROP TABLE IF EXISTS v_item; CREATE VIRTUAL TABLE v_item USING pivot_vtab (
  -- ROWS
  (SELECT DISTINCT item from item),
  (SELECT DISTINCT zokusei, zokusei FROM zokusei),
  (SELECT 'null')
);
SELECT * FROM v_item;</sql><sql name="SQL 2">CREATE TRIGGER update_v_item_after_update_zokusei
AFTER INSERT ON zokusei
FOR EACH STATEMENT
BEGIN
DROP TABLE IF EXISTS v_item; CREATE VIRTUAL TABLE v_item USING pivot_vtab (
  -- ROWS
  (SELECT DISTINCT item from item),
  (SELECT DISTINCT zokusei, zokusei FROM zokusei),
  (SELECT 'null')
);
END</sql><sql name="SQL 5*">DROP VIEW IF EXISTS damage_hosei_tokusyukouka_zokusei;
CREATE VIEW damage_hosei_tokusyukouka_zokusei AS
SELECT
  (
    (
	  CASE
		WHEN tokusyukouka_target_zokusei_type &lt;&gt; '' THEN tokusyukouka_target_zokusei_type||'属性'
		ELSE ''
	  END
	)||tokusyukouka_target_skill_type.tokusyukouka_target_skill_type||'ダメージ') as tokusyukouka
  ,zokusei_type_zokusei.zokusei
FROM tokusyukouka_target_zokusei_type
CROSS JOIN tokusyukouka_target_skill_type
LEFT OUTER JOIN zokusei_type_zokusei ON tokusyukouka_target_zokusei_type.zokusei_type = zokusei_type_zokusei.zokusei_type
WHERE tokusyukouka_target_zokusei_type &lt;&gt; '' OR tokusyukouka_target_skill_type &lt;&gt; ''
;
SELECT * FROM damage_hosei_tokusyukouka_zokusei
</sql><sql name="SQL 5*">SELECT
item
,tokusyukouka
,hosei_per
,*
FROM item_skill_tokusyukouka
JOIN damage_hosei_tokusyukouka_zokusei ON item_skill_tokusyukouka.skill_tokusyukouka = damage_hosei_tokusyukouka_zokusei.tokusyukouka
order by item ASC, item_skill_tokusyukouka.skill_tokusyukouka ASC</sql><current_tab id="3"/></tab_sql></sqlb_project>
